{"ast":null,"code":"var _jsxFileName = \"/home/amath/Documents/6dlabs/src/components/subscribe.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/** @jsx jsx */\nimport { useRef, useState } from 'react';\nimport { jsx } from 'theme-ui';\nimport { Flex, Button, Input } from 'theme-ui';\nimport { useFormFields, useMailChimpForm } from \"use-mailchimp-form\";\nexport default function Subscribe() {\n  const url = \"https://6dlabs.us21.list-manage.com/subscribe/post?u=3984937f18a637434499cf40c&amp;id=986ac0ecc8&amp;f_id=00cbe3e1f0\";\n  const {\n    loading,\n    error,\n    success,\n    message,\n    handleSubmit\n  } = useMailChimpForm(url);\n  const {\n    fields,\n    handleFieldChange\n  } = useFormFields({\n    EMAIL: \"\"\n  }); // 1. Create a reference to the input so we can fetch/clear it's value.\n\n  const inputEl = useRef(null); // 2. Hold a status in state to handle the response from our API.\n\n  const {\n    0: status,\n    1: setStatus\n  } = useState({\n    submitted: false,\n    submitting: false,\n    info: {\n      error: false,\n      msg: null\n    }\n  });\n\n  const handleMailChimpResponse = (errorMsg, successMsg) => {\n    if (errorMsg) {\n      // 4. If there was an error, update the message in state.\n      setStatus({\n        info: {\n          error: true,\n          msg: errorMsg\n        }\n      });\n      return;\n    } // 5. Clear the input value and show a success message.\n\n\n    setStatus({\n      submitted: true,\n      submitting: false,\n      info: {\n        error: false,\n        msg: successMsg\n      }\n    });\n    inputEl.current.value = '';\n  };\n\n  const handleSendGridResponse = (status, msg) => {\n    if (status === 200) {\n      // 5. Clear the input value and show a success message.\n      setStatus({\n        submitted: true,\n        submitting: false,\n        info: {\n          error: false,\n          msg: msg\n        }\n      });\n      inputEl.current.value = '';\n    } else {\n      setStatus({\n        info: {\n          error: true,\n          msg: msg\n        }\n      });\n    }\n  };\n\n  const subscribe = async e => {\n    e.preventDefault();\n    setStatus(prevStatus => _objectSpread(_objectSpread({}, prevStatus), {}, {\n      submitting: true\n    })); // 3. Send a request to our API with the user's email address.\n\n    const res = await fetch('https://us21.api.mailchimp.com/3.0/lists/986ac0ecc8/members', {\n      body: JSON.stringify({\n        email: inputEl.current.value\n      }),\n      headers: {\n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*'\n      },\n      method: 'POST'\n    }); //for mailChimp integration\n\n    const {\n      error\n    } = await res.json();\n    handleMailChimpResponse(error, 'Success! ðŸŽ‰ You are now subscribed to the newsletter.'); // For sendGrid integration\n\n    const text = await res.text();\n    handleSendGridResponse(res.status, text);\n  };\n\n  return jsx(\"div\", {\n    className: \"subscribe__area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }\n  }, jsx(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, jsx(Flex, {\n    sx: styles.subscribeForm,\n    sx: {\n      display: 'grid',\n      gridGap: 2\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, jsx(\"label\", {\n    htmlFor: \"email\",\n    sx: {\n      variant: 'styles.srOnly'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, \"Email Address\"), jsx(\"input\", {\n    id: \"email\",\n    autoFocus: true,\n    type: \"email\",\n    placeholder: \"Enter Your Email\",\n    value: fields.EMAIL,\n    onChange: handleFieldChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }), jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }, status.info.error && jsx(\"div\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 15\n    }\n  }, \"Error: \", status.info.msg), !status.info.error && status.info.msg && jsx(\"div\", {\n    className: \"success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  }, status.info.msg)), jsx(Button, {\n    onClick: event => {\n      event.preventDefault();\n      handleSubmit(fields);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  }, \"Subscribe\")), jsx(\"p\", {\n    className: \"style\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  }, loading && \"submitting\", error && message, success && message)));\n}\nconst styles = {\n  subscribeForm: {\n    width: '100%',\n    mx: 'auto',\n    '[type=\"email\"]': {\n      border: '1px solid #D4DAE2',\n      borderRadius: '7px',\n      fontFamily: 'body',\n      fontSize: [1, 2, 3],\n      fontWeight: 'body',\n      color: 'heading',\n      py: 1,\n      px: [3, 5],\n      backgroundColor: 'transparent',\n      transition: 'all 0.25s',\n      height: ['50px', '60px'],\n      '&:focus': {\n        boxShadow: '0 0 0 0px',\n        borderColor: 'primary'\n      },\n      '::placeholder': {\n        color: '#9A9CB2',\n        opacity: 1\n      }\n    }\n  }\n};","map":{"version":3,"sources":["/home/amath/Documents/6dlabs/src/components/subscribe.js"],"names":["useRef","useState","jsx","Flex","Button","Input","useFormFields","useMailChimpForm","Subscribe","url","loading","error","success","message","handleSubmit","fields","handleFieldChange","EMAIL","inputEl","status","setStatus","submitted","submitting","info","msg","handleMailChimpResponse","errorMsg","successMsg","current","value","handleSendGridResponse","subscribe","e","preventDefault","prevStatus","res","fetch","body","JSON","stringify","email","headers","method","json","text","styles","subscribeForm","display","gridGap","variant","event","width","mx","border","borderRadius","fontFamily","fontSize","fontWeight","color","py","px","backgroundColor","transition","height","boxShadow","borderColor","opacity"],"mappings":"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","sourcesContent":["/** @jsx jsx */\nimport { useRef, useState } from 'react';\nimport { jsx } from 'theme-ui';\nimport { Flex, Button, Input } from 'theme-ui';\nimport { useFormFields, useMailChimpForm } from \"use-mailchimp-form\";\n\n\nexport default function Subscribe() {\n  const url = \"https://6dlabs.us21.list-manage.com/subscribe/post?u=3984937f18a637434499cf40c&amp;id=986ac0ecc8&amp;f_id=00cbe3e1f0\";\n  const { loading, error, success, message, handleSubmit } = useMailChimpForm(\n    url\n  );\n\n  const { fields, handleFieldChange } = useFormFields({\n    EMAIL: \"\"\n    \n  });\n\n  // 1. Create a reference to the input so we can fetch/clear it's value.\n  const inputEl = useRef(null);\n  // 2. Hold a status in state to handle the response from our API.\n  const [status, setStatus] = useState({\n    submitted: false,\n    submitting: false,\n    info: { error: false, msg: null },\n  });\n  const handleMailChimpResponse = (errorMsg, successMsg) => {\n    if (errorMsg) {\n      // 4. If there was an error, update the message in state.\n      setStatus({\n        info: { error: true, msg: errorMsg },\n      });\n\n      return;\n    }\n\n    // 5. Clear the input value and show a success message.\n    setStatus({\n      submitted: true,\n      submitting: false,\n      info: { error: false, msg: successMsg },\n    });\n    inputEl.current.value = '';\n  };\n\n  const handleSendGridResponse = (status, msg) => {\n    if (status === 200) {\n      // 5. Clear the input value and show a success message.\n      setStatus({\n        submitted: true,\n        submitting: false,\n        info: { error: false, msg: msg },\n      });\n      inputEl.current.value = '';\n    } else {\n      setStatus({\n        info: { error: true, msg: msg },\n      });\n    }\n  };\n\n\n  \n  const subscribe = async (e) => {\n    e.preventDefault();\n    setStatus((prevStatus) => ({ ...prevStatus, submitting: true }));\n\n    // 3. Send a request to our API with the user's email address.\n    const res = await fetch('https://us21.api.mailchimp.com/3.0/lists/986ac0ecc8/members', {\n      body: JSON.stringify({\n        email: inputEl.current.value,\n      }),\n      headers: {\n        'Content-Type': 'application/json', \n        'Access-Control-Allow-Origin' : '*',\n      },\n      method: 'POST',\n    });\n    //for mailChimp integration\n    const { error } = await res.json();\n    handleMailChimpResponse(\n      error,\n      'Success! ðŸŽ‰ You are now subscribed to the newsletter.'\n    );\n    // For sendGrid integration\n    const text = await res.text();\n    handleSendGridResponse(res.status, text);\n  };\n  return (\n    <div className=\"subscribe__area\">\n      <form >\n        <Flex sx={styles.subscribeForm} sx={{display: 'grid',gridGap: 2,}}>\n          <label htmlFor=\"email\" sx={{ variant: 'styles.srOnly' }}>\n            Email Address\n          </label>\n\n          <input id=\"email\" autoFocus type=\"email\" placeholder=\"Enter Your Email\" value={fields.EMAIL} onChange={handleFieldChange} required/>\n\n\n          <div>\n            {status.info.error && (\n              <div className=\"error\">Error: {status.info.msg}</div>\n            )}\n            {!status.info.error && status.info.msg && (\n              <div className=\"success\">{status.info.msg}</div>\n            )}\n          </div>\n          <Button \n                                          onClick={(event) => {\n                                          event.preventDefault();\n                                          handleSubmit(fields);   \n                                          }}>Subscribe</Button>\n        </Flex>\n        <p className=\"style\">\n                                        {loading && \"submitting\"}\n                                        {error && message}\n                                        {success && message}\n                                      </p>\n      </form>\n    </div>\n  );\n}\n\nconst styles = {\n  subscribeForm: {\n    width: '100%',\n    mx: 'auto',\n    '[type=\"email\"]': {\n      border: '1px solid #D4DAE2',\n      borderRadius: '7px',\n      fontFamily: 'body',\n      fontSize: [1, 2, 3],\n      fontWeight: 'body',\n      color: 'heading',\n      py: 1,\n      px: [3, 5],\n      backgroundColor: 'transparent',\n      transition: 'all 0.25s',\n      height: ['50px', '60px'],\n      '&:focus': {\n        boxShadow: '0 0 0 0px',\n        borderColor: 'primary',\n      },\n      '::placeholder': {\n        color: '#9A9CB2',\n        opacity: 1,\n      },\n    },\n  },\n};\n"]},"metadata":{},"sourceType":"module"}